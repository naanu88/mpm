<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Dynamic Maths Problem Generator</title>
  <style>
    :root {
      --bg: #0f172a;
      --panel: #111827;
      --text: #e5e7eb;
      --muted: #9ca3af;
      --accent: #22d3ee;
      --accent2: #a78bfa;
      --danger: #ef4444;
      --ok: #10b981;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji";
      background: linear-gradient(120deg, #0f172a, #111827);
      color: var(--text);
    }
    header { padding: 24px; text-align: center; }
    header h1 { margin: 0; font-size: 1.8rem; letter-spacing: 0.3px; }
    header p { margin: 8px 0 0; color: var(--muted); }
    main { max-width: 1000px; margin: 0 auto; padding: 24px; }
    .panel {
      background: rgba(17,24,39,0.75);
      border: 1px solid rgba(255,255,255,0.06);
      border-radius: 16px;
      padding: 20px;
      backdrop-filter: blur(8px);
      box-shadow: 0 10px 30px rgba(0,0,0,0.25);
    }
    .grid { display: grid; gap: 16px; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); }
    label { font-weight: 600; color: var(--text); display: block; margin-bottom: 8px; }
    select, input[type="text"] {
      width: 100%; padding: 10px 12px; border-radius: 10px; border: 1px solid rgba(255,255,255,0.12);
      background: #0b1220; color: var(--text);
    }
    .controls { display: flex; gap: 10px; flex-wrap: wrap; margin-top: 14px; }
    button {
      padding: 10px 14px; border-radius: 10px; border: 1px solid rgba(255,255,255,0.1);
      background: linear-gradient(90deg, var(--accent), var(--accent2));
      color: #0b1220; font-weight: 700; cursor: pointer;
    }
    button.secondary {
      background: #0b1220; color: var(--text); border: 1px solid rgba(255,255,255,0.12);
    }
    .problem {
      margin-top: 20px; padding: 16px; border-radius: 12px; background: #0b1220; border: 1px solid rgba(255,255,255,0.08);
    }
    .meta { display: flex; gap: 12px; flex-wrap: wrap; margin-top: 8px; color: var(--muted); font-size: 0.9rem; }
    .badge { padding: 4px 8px; border-radius: 999px; border: 1px solid rgba(255,255,255,0.12); }
    pre, code { font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace; }
    .hint, .solution { margin-top: 12px; background: #0f172a; padding: 12px; border-radius: 8px; border: 1px dashed rgba(255,255,255,0.12); }
    .foot { margin-top: 18px; color: var(--muted); font-size: 0.85rem; }
    a { color: var(--accent); }
  </style>
</head>
<body>
  <header>
    <h1>Dynamic Maths Problem Generator</h1>
    <p>Five difficulties, many branches, styles, and real word problems. Seeded randomness for reproducible generation.</p>
  </header>
  <main>
    <div class="panel">
      <div class="grid">
        <div>
          <label for="difficulty">Difficulty</label>
          <select id="difficulty">
            <option>easy</option>
            <option>medium</option>
            <option>hard</option>
            <option>harder</option>
            <option>EXTREME</option>
          </select>
        </div>
        <div>
          <label for="branch">Branch</label>
          <select id="branch">
            <option>arithmetic</option>
            <option>algebra</option>
            <option>ratios</option>
            <option>rates</option>
            <option>percentages</option>
            <option>probability</option>
            <option>geometry</option>
            <option>sequences</option>
            <option>exponents</option>
            <option>inequalities</option>
            <option>statistics</option>
            <option>mixed</option>
          </select>
        </div>
        <div>
          <label for="style">Problem style</label>
          <select id="style">
            <option>normal</option>
            <option>word problem</option>
            <option>problem solving problem</option>
          </select>
        </div>
        <div>
          <label for="seed">Seed (optional for reproducibility)</label>
          <input id="seed" type="text" placeholder="auto-generated each click; or enter a number/text"/>
        </div>
      </div>
      <div class="controls">
        <button id="generateBtn">Generate</button>
        <button id="copyBtn" class="secondary">Copy problem</button>
        <button id="shareBtn" class="secondary">Share URL with seed</button>
      </div>

      <div class="problem" id="problemBox" aria-live="polite">
        <div id="problemText">Pick options and click Generate.</div>
        <div class="meta" id="meta"></div>
        <div class="hint" id="hint"></div>
        <div class="solution" id="solution"></div>
      </div>

      <div class="foot">
        Tip: Add <code>?seed=yourvalue</code> to the URL to reproduce a problem. Extend branches or templates in the code to grow combinations.
      </div>
    </div>
  </main>

<script>
/* ========= Seeded RNG ========= */
function xmur3(str) {
  let h = 1779033703 ^ str.length;
  for (let i = 0; i < str.length; i++) {
    h = Math.imul(h ^ str.charCodeAt(i), 3432918353);
    h = (h << 13) | (h >>> 19);
  }
  return function() {
    h = Math.imul(h ^ (h >>> 16), 2246822507);
    h = Math.imul(h ^ (h >>> 13), 3266489909);
    h ^= h >>> 16;
    return h >>> 0;
  };
}
function sfc32(a, b, c, d) {
  return function() {
    a >>>= 0; b >>>= 0; c >>>= 0; d >>>= 0;
    let t = (a + b) | 0;
    a = b ^ (b >>> 9);
    b = (c + (c << 3)) | 0;
    c = (c << 21) | (c >>> 11);
    c = (c + t) | 0;
    d = (d + 1) | 0;
    t = (t + d) | 0;
    c = (c + t) | 0;
    return (t >>> 0) / 4294967296;
  };
}
function makeRng(seedStr) {
  const seed = xmur3(seedStr);
  return sfc32(seed(), seed(), seed(), seed());
}
function randInt(rng, min, max) { // inclusive
  return Math.floor(rng() * (max - min + 1)) + min;
}
function choice(rng, arr) { return arr[Math.floor(rng() * arr.length)]; }

/* ========= Difficulty configs ========= */
const DIFFS = {
  easy:    { range: 10,  ops: 2,  steps: 1 },
  medium:  { range: 30,  ops: 3,  steps: 2 },
  hard:    { range: 80,  ops: 4,  steps: 2 },
  harder:  { range: 200, ops: 5,  steps: 3 },
  EXTREME: { range: 1000, ops: 6, steps: 4 }
};

/* ========= Names and contexts ========= */
const names = ["Jack","Maya","Omar","Priya","Noah","Zoe","Liam","Ava","Kai","Ella","Hana","Tom"];
const contexts = {
  workshop: { items: "logs", people: "people", place: "workshop" },
  bakery:   { items: "baguettes", people: "bakers", place: "bakery" },
  farm:     { items: "hay bales", people: "farmhands", place: "farm" },
  lab:      { items: "samples", people: "researchers", place: "lab" },
  class:    { items: "worksheets", people: "students", place: "classroom" },
  warehouse:{ items: "crates", people: "workers", place: "warehouse" }
};

/* ========= Branch templates ========= */
const Branches = {
  arithmetic: {
    normal: (rng, diff) => {
      const a = randInt(rng, 1, diff.range);
      const b = randInt(rng, 1, diff.range);
      const c = randInt(rng, 1, diff.range);
      const ops = choice(rng, ["+","-","×","÷"]);
      const ops2 = choice(rng, ["+","-","×","÷"]);
      const expr = `(${a} ${ops} ${b}) ${ops2} ${c}`;
      return {
        text: `Compute ${expr}.`,
        hint: `Evaluate inside parentheses first.`,
        solution: `Work left to right respecting precedence for × and ÷.`
      };
    },
    word: (rng, diff) => {
      const ctx = choice(rng, Object.values(contexts));
      const n = randInt(rng, 3, diff.range + 3);
      const m = randInt(rng, 2, Math.max(4, Math.floor(n/2)));
      return {
        text: `${choice(rng,names)} is at a ${ctx.place} with ${n} ${ctx.items}. They pack ${m} per box. How many boxes are needed?`,
        hint: `Divide total items by items per box.`,
        solution: `Boxes = ${n} ÷ ${m}. If not divisible, round up.`
      };
    },
    solving: (rng, diff) => {
      const target = randInt(rng, 20, diff.range + 40);
      const a = randInt(rng, 1, diff.range); const b = randInt(rng, 1, diff.range);
      return {
        text: `Find two numbers whose sum is ${target} and product is ${a*b}. Provide one possible pair.`,
        hint: `Start from factors of ${a*b} and check sums.`,
        solution: `List factor pairs and test the sum equals ${target}.`
      };
    }
  },

  algebra: {
    normal: (rng, diff) => {
      const p = randInt(rng, 2, 9), q = randInt(rng, 1, 9);
      const r = randInt(rng, 1, 20);
      return {
        text: `Solve for x: ${p}x + ${q} = ${r}.`,
        hint: `Isolate x by subtracting ${q}, then divide by ${p}.`,
        solution: `x = (${r} - ${q}) ÷ ${p}.`
      };
    },
    word: (rng, diff) => {
      const name = choice(rng, names);
      const ctx = contexts.workshop;
      const x = randInt(rng, 2, 9), y = randInt(rng, 2, 9);
      return {
        text: `${name} is at a ${ctx.place} with ${x} ${ctx.items}. Each ${ctx.items.slice(0,-1)} needs ${y} minutes to cut. If total time is T minutes and T = ${y}x, solve for x in terms of T.`,
        hint: `x is the number of items: T = ${y}x ⇒ x = T ÷ ${y}.`,
        solution: `x = T ÷ ${y}.`
      };
    },
    solving: (rng, diff) => {
      const a = randInt(rng, 2, 8), b = randInt(rng, 1, 9), c = randInt(rng, 1, 12);
      return {
        text: `Solve: ${a}(x - ${b}) = ${c}.`,
        hint: `Expand or divide both sides by ${a}.`,
        solution: `x - ${b} = ${c} ÷ ${a} ⇒ x = ${b} + (${c} ÷ ${a}).`
      };
    }
  },

  ratios: {
    normal: (rng, diff) => {
      const a = randInt(rng, 2, 12), b = randInt(rng, 2, 12), scale = randInt(rng, 2, 10);
      return {
        text: `A ratio ${a}:${b} is scaled by ${scale}. What is the new ratio?`,
        hint: `Multiply both parts by ${scale}.`,
        solution: `${a*scale}:${b*scale}.`
      };
    },
    word: (rng, diff) => {
      const ctx = choice(rng, Object.values(contexts));
      const items = randInt(rng, 10, diff.range+10), people = randInt(rng, 2, 12);
      return {
        text: `${choice(rng,names)} is at a ${ctx.place} with ${items} ${ctx.items} and ${people} ${ctx.people}. What is the ratio of ${ctx.people} to ${ctx.items}?`,
        hint: `Write people:items and simplify.`,
        solution: `Ratio = ${people}:${items}, then reduce by GCD.`
      };
    },
    solving: (rng, diff) => {
      const a = randInt(rng, 2, 9), b = randInt(rng, 2, 9), total = randInt(rng, 30, 300);
      return {
        text: `In ratio ${a}:${b}, the total is ${total}. How much is the first part?`,
        hint: `Sum parts: ${a+b}. First = total × a/(a+b).`,
        solution: `First = ${total} × ${a} / (${a+b}).`
      };
    }
  },

  rates: {
    normal: (rng, diff) => {
      const dist = randInt(rng, 10, diff.range+50), speed = randInt(rng, 10, 120);
      return {
        text: `Traveling at ${speed} km/h for distance ${dist} km, how long does it take?`,
        hint: `Time = distance ÷ speed.`,
        solution: `t = ${dist} ÷ ${speed} hours.`
      };
    },
    word: (rng, diff) => {
      const ctx = contexts.workshop;
      const logs = randInt(rng, 20, diff.range+50), people = randInt(rng, 2, 15);
      const rate = randInt(rng, 1, 5);
      return {
        text: `${choice(rng,names)} is at a ${ctx.place} with ${logs} ${ctx.items} and ${people} ${ctx.people}. Each person cuts ${rate} logs per hour. How many hours to finish?`,
        hint: `Total rate = people × logs/hour.`,
        solution: `Time = ${logs} ÷ (${people} × ${rate}).`
      };
    },
    solving: (rng, diff) => {
      const a = randInt(rng, 30, 200), b = randInt(rng, 1, 6);
      return {
        text: `A machine makes ${a} units in ${b} hours at constant rate. How many in t hours? Express as function f(t).`,
        hint: `Rate = units per hour.`,
        solution: `f(t) = (${a}/${b}) t.`
      };
    }
  },

  percentages: {
    normal: (rng, diff) => {
      const base = randInt(rng, 50, diff.range+200), pct = randInt(rng, 5, 60);
      return {
        text: `Increase ${base} by ${pct}%. What is the new value?`,
        hint: `New = base × (1 + pct/100).`,
        solution: `New = ${base} × (1 + ${pct}/100).`
      };
    },
    word: (rng, diff) => {
      const name = choice(rng, names), price = randInt(rng, 20, 200), disc = randInt(rng, 10, 50);
      return {
        text: `${name} buys a tool priced at $${price} with a ${disc}% discount. What is the final price?`,
        hint: `Final = price × (1 - disc/100).`,
        solution: `Final = ${price} × (1 - ${disc}/100).`
      };
    },
    solving: (rng, diff) => {
      const start = randInt(rng, 60, 300), end = randInt(rng, 60, 500);
      return {
        text: `The value changes from ${start} to ${end}. What percent change is this?`,
        hint: `Percent change = ((end - start)/start) × 100%.`,
        solution: `((${end} - ${start}) / ${start}) × 100%.`
      };
    }
  },

  probability: {
    normal: (rng, diff) => {
      const red = randInt(rng, 1, 10), blue = randInt(rng, 1, 10);
      return {
        text: `A bag has ${red} red and ${blue} blue balls. Probability of drawing red?`,
        hint: `Favorable/Total.`,
        solution: `${red} / (${red + blue}).`
      };
    },
    word: (rng, diff) => {
      const ctx = contexts.class;
      const correct = randInt(rng, 5, 20), wrong = randInt(rng, 2, 10);
      return {
        text: `In a ${ctx.place} quiz with ${correct} true and ${wrong} false statements shuffled, what is the probability a random pick is true?`,
        hint: `True over total.`,
        solution: `${correct} / (${correct + wrong}).`
      };
    },
    solving: (rng, diff) => {
      const n = randInt(rng, 4, 10);
      return {
        text: `Roll a fair die ${n} times. Probability of at least one 6?`,
        hint: `Complement: 1 - P(no 6).`,
        solution: `1 - (5/6)^${n}.`
      };
    }
  },

  geometry: {
    normal: (rng, diff) => {
      const l = randInt(rng, 2, diff.range/2 + 10), w = randInt(rng, 2, diff.range/2 + 10);
      return {
        text: `Rectangle with length ${l} and width ${w}. Find area and perimeter.`,
        hint: `Area = l×w; Perimeter = 2(l+w).`,
        solution: `A = ${l*w}, P = ${2*(l+w)}.`
      };
    },
    word: (rng, diff) => {
      const wood = randInt(rng, 4, 20), plank = randInt(rng, 2, 10);
      return {
        text: `A carpenter makes square frames using ${wood} m of wood per frame. If each side uses ${plank} m, how many frames can be made?`,
        hint: `Per frame wood = 4×side length.`,
        solution: `Frames = floor(${wood} ÷ (4×${plank})).`
      };
    },
    solving: (rng, diff) => {
      const r = randInt(rng, 2, 20);
      return {
        text: `Circle radius ${r}. Find circumference and area (use π).`,
        hint: `C = 2πr; A = πr².`,
        solution: `C = 2π×${r}, A = π×${r}².`
      };
    }
  },

  sequences: {
    normal: (rng, diff) => {
      const a1 = randInt(rng, 1, 20), d = randInt(rng, 1, 15), n = randInt(rng, 5, 20);
      return {
        text: `Arithmetic sequence a₁=${a1}, d=${d}. Find aₙ for n=${n}.`,
        hint: `aₙ = a₁ + (n-1)d.`,
        solution: `aₙ = ${a1} + (${n-1})×${d}.`
      };
    },
    word: (rng, diff) => {
      const start = randInt(rng, 5, 50), step = randInt(rng, 2, 12), term = randInt(rng, 4, 25);
      return {
        text: `A worker stacks crates increasing by ${step} per layer starting at ${start}. How many crates on layer ${term}?`,
        hint: `Arithmetic sequence term.`,
        solution: `${start} + (${term-1})×${step}.`
      };
    },
    solving: (rng, diff) => {
      const a1 = randInt(rng, 1, 10), r = randInt(rng, 2, 6), n = randInt(rng, 4, 10);
      return {
        text: `Geometric sequence a₁=${a1}, ratio r=${r}. Find Sₙ for n=${n}.`,
        hint: `Sₙ = a₁(1 - rⁿ)/(1 - r), r≠1.`,
        solution: `Sₙ = ${a1}(1 - ${r}^${n})/(1 - ${r}).`
      };
    }
  },

  exponents: {
    normal: (rng, diff) => {
      const a = randInt(rng, 2, 9), b = randInt(rng, 2, 5), c = randInt(rng, 2, 5);
      return {
        text: `Simplify: ${a}^${b} × ${a}^${c}.`,
        hint: `Add exponents with same base.`,
        solution: `${a}^${b+c}.`
      };
    },
    word: (rng, diff) => {
      const base = randInt(rng, 2, 5), days = randInt(rng, 3, 8);
      return {
        text: `Bacteria double each day starting with ${base} cells. After ${days} days, how many cells?`,
        hint: `Exponential growth: N = N₀·2^t.`,
        solution: `${base} × 2^${days}.`
      };
    },
    solving: (rng, diff) => {
      const a = randInt(rng, 2, 9), k = randInt(rng, 2, 5);
      return {
        text: `Solve for x: ${a}^x = ${a}^${k}.`,
        hint: `Equal bases ⇒ equal exponents.`,
        solution: `x = ${k}.`
      };
    }
  },

  inequalities: {
    normal: (rng, diff) => {
      const p = randInt(rng, 2, 9), q = randInt(rng, 1, 20);
      return {
        text: `Solve: ${p}x + ${q} > ${q + p}.`,
        hint: `Subtract q; divide by p.`,
        solution: `x > ${(q + p - q) / p}.`
      };
    },
    word: (rng, diff) => {
      const hours = randInt(rng, 10, 40), minWage = randInt(rng, 15, 30);
      return {
        text: `A worker earns $w per hour for ${hours} hours. To make at least $${hours*minWage}, what inequality must w satisfy?`,
        hint: `Total pay ≥ target.`,
        solution: `${hours}w ≥ ${hours*minWage} ⇒ w ≥ ${minWage}.`
      };
    },
    solving: (rng, diff) => {
      const a = randInt(rng, 2, 8), b = randInt(rng, 1, 12);
      return {
        text: `Solve: ${a}(x - ${b}) ≤ ${a*b}.`,
        hint: `Divide by ${a}, then add ${b}.`,
        solution: `x - ${b} ≤ ${b} ⇒ x ≤ ${b + b - b}.`
      };
    }
  },

  statistics: {
    normal: (rng, diff) => {
      const n = randInt(rng, 5, 10);
      const data = Array.from({length: n}, () => randInt(rng, 1, 30));
      const sum = data.reduce((s, v)=>s+v, 0);
      return {
        text: `Data set: [${data.join(", ")}]. Find the mean.`,
        hint: `Mean = sum ÷ count.`,
        solution: `Mean = ${sum} ÷ ${n}.`
      };
    },
    word: (rng, diff) => {
      const days = randInt(rng, 5, 7);
      const outputs = Array.from({length: days}, () => randInt(rng, 10, 40));
      return {
        text: `A factory produces units over ${days} days: [${outputs.join(", ")}]. What is the median?`,
        hint: `Sort and pick middle.`,
        solution: `Sort values, choose middle (average two middles if even).`
      };
    },
    solving: (rng, diff) => {
      const n = randInt(rng, 6, 12), k = randInt(rng, 1, 5);
      return {
        text: `In a data set of ${n} values, ${k} are outliers. Explain how removing outliers affects mean vs median.`,
        hint: `Mean is sensitive; median is robust.`,
        solution: `Mean shifts more; median changes little unless many outliers.`
      };
    }
  }
};

/* ========= Mixed branch ========= */
function generateMixed(rng, diff, style) {
  const keys = Object.keys(Branches).filter(k => k !== "mixed");
  const k = choice(rng, keys);
  return Branches[k][style](rng, diff);
}

/* ========= Main generator ========= */
function genProblem({difficulty, branch, style, seedStr}) {
  const diff = DIFFS[difficulty] || DIFFS.medium;
  const rng = makeRng(seedStr);

  let payload;
  if (branch === "mixed") payload = generateMixed(rng, diff, style);
  else payload = Branches[branch][style](rng, diff);

  // Add occasional multi-step twist for higher difficulties
  if (diff.steps >= 3 && style !== "word problem") {
    if (rng() < 0.5) {
      const x = randInt(rng, 2, 9), y = randInt(rng, 1, 9);
      payload.text += ` Then, using your result r, solve: ${x}r + ${y} = ?`;
      payload.hint += ` Use r from the first part to compute ${x}r + ${y}.`;
      payload.solution += ` Substitute r and evaluate ${x}r + ${y}.`;
    }
  }

  return payload;
}

/* ========= UI wiring ========= */
const difficultyEl = document.getElementById("difficulty");
const branchEl = document.getElementById("branch");
const styleEl = document.getElementById("style");
const seedEl = document.getElementById("seed");
const generateBtn = document.getElementById("generateBtn");
const problemBox = document.getElementById("problemBox");
const problemTextEl = document.getElementById("problemText");
const hintEl = document.getElementById("hint");
const solutionEl = document.getElementById("solution");
const metaEl = document.getElementById("meta");
const copyBtn = document.getElementById("copyBtn");
const shareBtn = document.getElementById("shareBtn");

function randomSeed() {
  // Use crypto if available; fallback to time-based
  const arr = new Uint32Array(4);
  if (window.crypto && crypto.getRandomValues) {
    crypto.getRandomValues(arr);
    return `${arr[0]}-${arr[1]}-${arr[2]}-${arr[3]}`;
  }
  return `${Date.now()}-${Math.random().toString(16).slice(2)}`;
}

function getSeedFromURL() {
  const params = new URLSearchParams(location.search);
  return params.get("seed");
}

function render() {
  const difficulty = difficultyEl.value;
  const branch = branchEl.value;
  const styleMap = {
    "normal": "normal",
    "word problem": "word",
    "problem solving problem": "solving"
  };
  const style = styleMap[styleEl.value];

  let seedStr = seedEl.value.trim();
  if (!seedStr) seedStr = randomSeed();
  const payload = genProblem({difficulty, branch, style, seedStr});

  problemTextEl.textContent = payload.text;
  hintEl.textContent = "Hint: " + payload.hint;
  solutionEl.textContent = "Solution sketch: " + payload.solution;

  metaEl.innerHTML = "";
  const metaPieces = [
    { label: "Difficulty", value: difficulty },
    { label: "Branch", value: branch },
    { label: "Style", value: styleEl.value },
    { label: "Seed", value: seedStr }
  ];
  metaPieces.forEach(m => {
    const div = document.createElement("div");
    div.className = "badge";
    div.textContent = `${m.label}: ${m.value}`;
    metaEl.appendChild(div);
  });

  // Update seed field with the actual used seed
  seedEl.value = seedStr;
}

generateBtn.addEventListener("click", render);

copyBtn.addEventListener("click", async () => {
  const text = `${problemTextEl.textContent}\nHint: ${hintEl.textContent.replace("Hint: ","")}\nSolution sketch: ${solutionEl.textContent.replace("Solution sketch: ","")}\n[${metaEl.textContent}]`;
  try {
    await navigator.clipboard.writeText(text);
    copyBtn.textContent = "Copied!";
    setTimeout(() => copyBtn.textContent = "Copy problem", 1200);
  } catch {
    copyBtn.textContent = "Copy failed";
    setTimeout(() => copyBtn.textContent = "Copy problem", 1200);
  }
});

shareBtn.addEventListener("click", async () => {
  const url = new URL(location.href);
  const seedVal = seedEl.value.trim() || randomSeed();
  url.searchParams.set("seed", seedVal);
  try {
    await navigator.clipboard.writeText(url.toString());
    shareBtn.textContent = "URL copied!";
    setTimeout(() => shareBtn.textContent = "Share URL with seed", 1200);
  } catch {
    shareBtn.textContent = "Copy failed";
    setTimeout(() => shareBtn.textContent = "Share URL with seed", 1200);
  }
});

/* ========= Auto-load with URL seed ========= */
window.addEventListener("DOMContentLoaded", () => {
  const urlSeed = getSeedFromURL();
  if (urlSeed) {
    seedEl.value = urlSeed;
  }
  render();
});
</script>
</body>
</html>
